<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apps - Workshop</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <!-- Status Bar Mobile -->
    <div class="status-bar">
        <span class="time" id="statusTime">14:00</span>
        <div class="status-right">
            <span class="signal">‚óè‚óè‚óè‚óè</span>
            <span class="wifi">üì∂</span>
            <span class="battery">87%</span>
        </div>
    </div>

    <!-- √âcran principal -->
    <div class="main-screen">
        <!-- Header -->
        <div class="main-header">
            <div class="user-info" id="userInfo">
                <!-- can put things like game progress (.e.g "4/10 apps unlocked!")  -->
            </div>
            <h1>Mes Applications</h1>
        </div>

        <!-- Loading state -->
        <div id="loading" class="loading-state">
            <div class="spinner"></div>
            <p>Chargement des applications...</p>
        </div>

        <!-- Apps grid -->
        <div id="apps-grid" class="apps-grid hidden">
            <!-- Apps seront g√©n√©r√©es dynamiquement -->
        </div>

        <!-- Error state -->
        <div id="error-state" class="error-state hidden">
            <div class="error-icon">‚ö†Ô∏è</div>
            <p>Impossible de charger les applications</p>
            <button onclick="loadApps()" class="retry-btn">R√©essayer</button>
        </div>
    </div>

    <script src="assets/app.js"></script>
    <script>
        // Chargement automatique des apps au load de la page
        document.addEventListener('DOMContentLoaded', () => {
            // V√©rifier si l'utilisateur est connect√©
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            if (!userData.grp_name) {
                window.location.href = 'index.html';
                return;
            }
            
            // Charger les apps
            loadApps();
        });
    </script>
</body>
</html>